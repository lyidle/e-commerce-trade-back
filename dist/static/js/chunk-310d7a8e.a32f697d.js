(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-310d7a8e"],{9133:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.records}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"skuName",label:"名称",width:"width"}}),a("el-table-column",{attrs:{prop:"skuDesc",label:"描述",width:"width"}}),a("el-table-column",{attrs:{prop:"prop",label:"默认图片",width:"110"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;e.$index;return[a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.skuDefaultImg,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"weight",label:"重量",width:"80"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"80"}}),a("el-table-column",{attrs:{prop:"prop",label:"操作",width:"width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;t.$index;return[0===n.isSale?a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"success",icon:"el-icon-top",size:"mini"},on:{click:function(t){return e.sale(n)}}}):a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"info",icon:"el-icon-bottom",size:"mini"},on:{click:function(t){return e.cancel(n)}}}),a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.edit()}}}),a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"info",icon:"el-icon-info",size:"mini"},on:{click:function(t){return e.getSkuInfo(n)}}}),a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"danger",icon:"el-icon-delete",size:"mini"}})]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":e.page,"page-sizes":[3,5,10],"page-size":e.limit,layout:" prev, pager, next, jumper,->,sizes,total",total:e.total},on:{"current-change":e.getSkuList,"size-change":e.handleSizeChange}}),a("el-drawer",{attrs:{visible:e.drawer,"show-close":!1,size:"50%"},on:{"update:visible":function(t){e.drawer=t}}},[a("el-row",[a("el-col",{attrs:{span:5}},[e._v("名称")]),a("el-col",{attrs:{span:16}},[e._v(e._s(e.skuInfo.skuName))])],1),a("el-row",[a("el-col",{attrs:{span:5}},[e._v("描述")]),a("el-col",{attrs:{span:16}},[e._v(e._s(e.skuInfo.skuDesc))])],1),a("el-row",[a("el-col",{attrs:{span:5}},[e._v("价格")]),a("el-col",{attrs:{span:16}},[e._v(e._s(e.skuInfo.price))])],1),a("el-row",[a("el-col",{attrs:{span:5}},[e._v("平台属性")]),a("el-col",{attrs:{span:16}},e._l(e.skuInfo.skuAttrValueList,(function(t){return a("el-tag",{key:t.id,staticStyle:{"margin-right":"10px"},attrs:{type:"success"}},[e._v(" "+e._s(t.attrId)+"--"+e._s(t.valueId)+" ")])})),1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[e._v("商品图片")]),a("el-col",{attrs:{span:16}},[a("el-carousel",{attrs:{height:"150px"}},e._l(e.skuInfo.skuImageList,(function(e){return a("el-carousel-item",{key:e.id},[a("img",{attrs:{src:e.imgUrl,alt:""}})])})),1)],1)],1)],1)],1)},s=[],r=a("c7eb"),i=a("1da1"),c={name:"Sku",data:function(){return{page:1,limit:3,records:[],total:0,skuInfo:{},drawer:!1}},beforeMount:function(){this.getSkuList()},methods:{getSkuList:function(){var e=arguments,t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var n,s,i,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.page=n,s=t.page,i=t.limit,a.prev=3,a.next=6,t.$API.sku.reqSkuList(s,i);case 6:c=a.sent,t.total=c.data.total,t.records=c.data.records,a.next=13;break;case 11:a.prev=11,a.t0=a["catch"](3);case 13:case"end":return a.stop()}}),a,null,[[3,11]])})))()},handleSizeChange:function(e){this.limit=e,this.getSkuList()},sale:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$API.sku.reqSale(e.id);case 3:e.isSale=1,t.$message({type:"success",message:"上架成功"}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),t.$message({type:"warning",message:"上架失败"});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},cancel:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$API.sku.reqCancel(e.id);case 3:e.isSale=0,t.$message({type:"success",message:"下架成功"}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),t.$message({type:"warning",message:"下架失败"});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},edit:function(){this.$message("正在开发中……")},getSkuInfo:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.drawer=!0,a.prev=1,a.next=4,t.$API.sku.reqSkuById(e.id);case 4:n=a.sent,t.skuInfo=n.data,a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](1);case 10:case"end":return a.stop()}}),a,null,[[1,8]])})))()}}},l=c,o=(a("f635"),a("0c7c")),u=Object(o["a"])(l,n,s,!1,null,"373530d2",null);t["default"]=u.exports},ba57:function(e,t,a){},f635:function(e,t,a){"use strict";a("ba57")}}]);